<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add a New Blog - Twin Unique</title>
  
  
  <!-- Stylesheets -->
<link href="assets/css/bootstrap.css" rel="stylesheet">
<link href="assets/css/style.css" rel="stylesheet">
<link href="assets/css/responsive.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700;9..40,800;9..40,900&display=swap" rel="stylesheet">

<link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon">
<link rel="icon" href="assets/images/favicon.png" type="image/x-icon">

<!-- Responsive -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

<!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script><![endif]-->
<!--[if lt IE 9]><script src="js/respond.js"></script><![endif]-->
</head>
<body>
  <main>
    <h1>Add a New Blog</h1>
    <form id="blogForm">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" placeholder="Enter blog title" required>

      <label for="date">Date:</label>
      <input type="date" id="date" name="date" required>

      <label for="author">Author:</label>
      <input type="text" id="author" name="author" placeholder="Enter author name" required>

      <label for="category">Category:</label>
      <input type="text" id="category" name="category" placeholder="Enter category" required>

      <label for="image">Image URL:</label>
      <input type="url" id="image" name="image" placeholder="Enter image URL" required>
	  
      <label for="description">Description:</label>
      <textarea id="description" name="description" rows="4" placeholder="Write your description here" required></textarea>

      <label for="content">Content:</label>
      <textarea id="content" name="content" rows="10" placeholder="Write your blog content here" required></textarea>

      <button type="submit">Submit</button>
    </form>
  </main>
<!-- Main Footer -->
	<footer class="main-footer">
		<div class="main-footer_image" style="background-image:url(assets/images/background/2.jpg)"></div>
		<div class="auto-container">
			<!-- Widgets Section -->
			<div class="main-footer_content">
				<h2 class="main-footer_title">Letâ€™s Start Work Today?</h2>
				<div class="main-footer_text">We turn you on to pro lighting strategies to highlight features create intrigue and make <br> the most of indoor and outdoor rooms</div>
				<div class="main-footer_button">
					<a href="about.html" class="theme-btn btn-style-two">
						<span class="btn-wrap">
							<span class="text-one">Build Your Dream</span>
							<span class="text-two">Build Your Dream</span>
						</span>
					</a>
				</div>
			</div>
			<!-- Newsletter Box -->
			<div class="newsletter-one">
				<div class="row clearfix">
					<!-- Title Column -->
					<div class="newsletter-one_title-column col-lg-6 col-md-12 col-sm-12">
						<div class="newsletter-one_title_outer">
							<div class="newsletter-one_title-icon flaticon-paper-plane"></div>
							<h3 class="newsletter-one_title">Subscribe Newsletter!</h3>
							<div class="newsletter-one_text">Get recent news and updates or offers.</div>
						</div>
					</div>
					<!-- Form Column -->
					<div class="newsletter-one_form-column col-lg-6 col-md-12 col-sm-12">
						<div class="newsletter-one_form-outer">
							<div class="newsletter-box">
								<form method="post" action="contact.html">
									<div class="form-group">
										<input type="email" name="search-field" value="" placeholder="Enter your mail" required>
										<button type="submit" class="theme-btn">submit now</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="main-footer_copyright">2024 &copy; Zinex. All in One Multipurpose WordPress Landing page Theme Designed by <a href="https://themeforest.net/user/codeliono">Codeliono</a></div>

		</div>
	</footer>
	<!-- End Main Footer -->

	<!-- Search Popup -->
	<div class="search-popup">
		<div class="color-layer"></div>
		<button class="close-search"><span class="flaticon-close"></span></button>
		<form method="post" action="blog.html">
			<div class="form-group">
				<input type="search" name="search-field" value="" placeholder="Search Here" required="">
				<button class="fa fa-solid fa-magnifying-glass fa-fw" type="submit"></button>
			</div>
		</form>
	</div>
	<!-- End Search Popup -->
	
</div>
<!-- End PageWrapper -->

<div class="progress-wrap">
	<svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
		<path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
	</svg>
</div>

<script src="assets/js/jquery.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/appear.js"></script>
<script src="assets/js/parallax.min.js"></script>
<script src="assets/js/tilt.jquery.min.js"></script>
<script src="assets/js/jquery.paroller.min.js"></script>
<script src="assets/js/wow.js"></script>
<script src="assets/js/swiper.min.js"></script>
<script src="assets/js/backtotop.js"></script>
<script src="assets/js/odometer.js"></script>
<script src="assets/js/parallax-scroll.js"></script>

<script src="assets/js/gsap.min.js"></script>
<script src="assets/js/SplitText.min.js"></script>
<script src="assets/js/ScrollTrigger.min.js"></script>
<script src="assets/js/ScrollToPlugin.min.js"></script>
<script src="assets/js/ScrollSmoother.min.js"></script>

<script src="assets/js/jquery.marquee.min.js"></script>
<script src="assets/js/magnific-popup.min.js"></script>
<script src="assets/js/nav-tool.js"></script>
<script src="assets/js/jquery-ui.js"></script>
<script src="assets/js/script.js"></script>
  <script>
    document.getElementById('blogForm').addEventListener('submit', async (e) => {
      e.preventDefault();

      // Collect form data
      const title = document.getElementById('title').value;
      const formData = {
        title,
        date: document.getElementById('date').value,
        author: document.getElementById('author').value,
        category: document.getElementById('category').value,
        image: document.getElementById('image').value,
        description: document.getElementById('description').value,
        content: document.getElementById('content').value,
      };

      // Generate URL and slug dynamically
      const slug = title.replace(/\s+/g, '-').toLowerCase();
      formData.url = `https://twinunique.com/pages/Blog/${slug}.html`;

      try {
        const response = await fetch('/add-blog', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData),
        });

        if (response.ok) {
          const result = await response.json();
          alert(`Blog added successfully! View it here: ${result.url}`);
          document.getElementById('blogForm').reset();
        } else {
          alert('Error adding blog. Please try again.');
        }
      } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while adding the blog.');
      }
    });
  </script>
</body>
</html>
